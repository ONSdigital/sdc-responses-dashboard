<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>SDC | Dashboard</title>
		<!-- Tell the browser to be responsive to screen width -->
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		{% include 'partials/_styles.html' %}
		<!-- DataTables -->
		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.18/css/dataTables.bootstrap.min.css">
		<!-- Custom CSS -->
		<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/custom-reporting.css') }}">
		<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/custom-dashboard.css') }}">
	</head>
	<body id="collex-id" class="no-sidebar skin-black">
		<!-- sidebar-collapse -->
		<div class="wrapper">
			{% include 'partials/_header.html' %}
			<!-- Content Wrapper. Contains page content -->
			<div class="content-wrapper">
				<!-- Content Header (Page header) -->
				<!-- Main content -->
                {% include 'partials/_modal_collex.html' %}
                {% include 'partials/_modal_survey.html' %}
				<!-- /.content -->
			</div>
			<!-- /.content-wrapper -->
		</div>
		<!-- ./wrapper -->
		{% include 'partials/_scripts.html' %}
		<!-- Moment JS -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
		<!-- DataTables -->
		<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.10.18/js/dataTables.bootstrap.min.js"></script>
		<script src="https://cdn.datatables.net/scroller/1.4.4/js/dataTables.scroller.min.js"></script>
		<script src="//cdn.datatables.net/plug-ins/1.10.19/sorting/datetime-moment.js"></script>
		<script src="//cdn.datatables.net/plug-ins/1.10.19/dataRender/datetime.js"></script>

		<!-- App -->
		<script>
			$('#collex-id').data('surveys', '{{ all_surveys|tojson|safe }}');
			$(document).ready(function() {
				<!--$.fn.dataTable.moment("DD/MM/YYYY");-->
				$.fn.dataTable.moment = function ( format, locale ) {
					var types = $.fn.dataTable.ext.type;

					// Add type detection
					types.detect.unshift( function ( d ) {
						return moment( d, format, locale, true ).isValid() ?
							'moment-'+format :
							null;
					} );

					// Add sorting method - use an integer for the sorting
					types.order[ 'moment-'+format+'-pre' ] = function ( d ) {
						return moment( d, format, locale, true ).unix();
					};
				};
				$("#modal-survey").modal({
					backdrop: 'static',
					keyboard: false
				});
			});
		</script>
	<script src="{{ url_for('static', filename='assets/js/datatables.js') }}"></script>
	</body>
</html>
